 <script type="text/javascript">
         
        $(function() {
             var description= [];

    {% for objectifOperationnel in objectifOperationnels %}
            	 
             description[{{objectifOperationnel.id}}]="{{objectifOperationnel.description|replace({"'": "’"})|replace({"\n": " - "})|replace({"\r": " - "})|replace({"\t": " - "})}}";
    {% endfor %}
    
            "use strict";

               var popoverContent="----";


            $(".gantt").gantt({
                source: [
                    
                               
     {% for objectifOperationnel in objectifOperationnels %}
            {% if objectifOperationnel.dateDebut is not empty  and objectifOperationnel.dateFin is not empty %} 
                   { name: "{{objectifOperationnel.etablissement}}",
                                
                                values: [{
                                from: "/Date({{objectifOperationnel.dateDebut.timestamp}}000)/",
                                to: "/Date({{objectifOperationnel.dateFin.timestamp}}000 )/",
                                label: "{{objectifOperationnel}}",
                                customClass: "{{objectifOperationnel.getCSSGantClasse}}",
                                dataObj: "{{objectifOperationnel.id}}"
                                }],
                                },
            {% endif  %}
    {% endfor %}
    
                    
                ],
                navigate: "scroll",
                scale: "weeks",
                maxScale: "months",
                minScale: "hours",
                itemsPerPage: 1000,
                useCookie: true,
                months:	["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Aout", "Septembre", "Octobre", "Novembre", "Decembre"],
                dow:["Dim", "Lun","Mar", "Mer", "Jeu", "Ven", "Samedi"],
                onItemClick: function(data) {
                    $('#oo_'+data).modal('show');
                },
                    onRender: function() {
                    if (window.console && typeof console.log === "function") {
                        console.log("chart rendered");
                    }
                }
            });

            $(".gantt").popover({
                selector: ".bar",
                title: function () {
                    return $(this).text();
                   },
                content: function () {
                    return description[$(this).data("dataObj")];
                   },
                trigger: "hover",
                placement: "auto auto"
            });

        });
    </script>
